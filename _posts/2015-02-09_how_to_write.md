---
layout: post
title: C++ sizeof classname
---

{{ page.title }}
================

天天道写代码写代码，那么写一段代码指的是具体要干些什么？
当然我们探讨的是为了写出正确的代码，不仅仅停留在写完。

1. 认识问题
 问题二字可大可小，大到一个project的需求，小道一段函数功能。
 认识问题，这一环节我的理解是，正确性和全面性。 
 如果需求是leader或者产品同事那里提出的话，那么有一个定律就是“99%”的分配任务的人不知道他想要的最终结果是什么。
 所以这里你需要具体具体在具体，一定要明确了要解决什么问题再开始做。 否则交付是否由于大家预期偏差太大可能是灾难性的。
 如果这是一个实际问题的话，那么经验可能是很重要的。这里的经验不仅仅是个人的经验，也指的是他人的。

2. 怎么写
 这里我想到的比较重要的观点是《UNIX编程艺术》中提到的，写短小精悍的程序，一段代码只做一件事情。
 DRY don't repeat yourself.这是很关键的。
 那么当我们落笔写的时候，比如你要写一个 division()函数：
 a. 接口如何设计。float? int? string? template?
 b. 返回值如何设计。通过参数or返回值，那么错误码怎么设计？
 c. 用户会传入何种异常。
 d. 增加一行代码，我们是否充分考虑了临界值？

3. 怎么测
 如果按照2描述的那样写短小的程序，那么按照一段代码（函数）来作为原子case来考虑，
 测试其实考察的就是对程序异常错误逻辑的预测。
 还有要暴力测试一把，比如各种边界有时候想不到，那么我们写一个穷举，来暴力一下，会有惊喜的。

4. 更高级的考虑
 安全性，和可扩展，可移植。
 安全和可移植这里知之甚少。
 可扩展的程序，个人认为内聚耦合考虑清楚就能解决掉大部分扩展问题。一段代码写完了多久不用改，这个指标也很重要。
